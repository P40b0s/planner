[21-03-2025 14:22:56]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 14:22:56]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=724.7µs elapsed_secs=0.0007247
[21-03-2025 14:22:56]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=310.887µs elapsed_secs=0.000310887
[21-03-2025 14:22:56]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=388.731µs elapsed_secs=0.000388731
[21-03-2025 14:22:56]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=152.125µs elapsed_secs=0.000152125
[21-03-2025 14:22:56]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 14:25:01]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "123321", "content-length": "91", "connection": "close"}
[21-03-2025 14:25:01]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:25:01]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=244.792µs elapsed_secs=0.000244792
[21-03-2025 14:25:01]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=7 ms status=400
[21-03-2025 14:25:01]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=0 elapsed=1.67093ms elapsed_secs=0.00167093
[21-03-2025 14:25:33]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 14:25:33]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=524.449µs elapsed_secs=0.000524449
[21-03-2025 14:25:33]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=169.15µs elapsed_secs=0.00016915
[21-03-2025 14:25:34]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=121.922957ms elapsed_secs=0.121922957
[21-03-2025 14:25:34]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=82.71058ms elapsed_secs=0.08271058
[21-03-2025 14:25:34]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 14:25:45]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "123321", "content-length": "91", "connection": "close"}
[21-03-2025 14:25:45]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:25:45]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=237.558µs elapsed_secs=0.000237558
[21-03-2025 14:25:45]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=0 elapsed=146.898µs elapsed_secs=0.000146898
[21-03-2025 14:25:45]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=301.706µs elapsed_secs=0.000301706
[21-03-2025 14:25:45]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=68.030586ms elapsed_secs=0.068030586
[21-03-2025 14:25:45]-[planner::api::test_api:76]:⚙ DEBUG -> Юзер TestUser3 прошел авторизацию
[21-03-2025 14:25:45]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=89 ms status=200
[21-03-2025 14:26:54]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "123321", "content-length": "91", "connection": "close"}
[21-03-2025 14:26:54]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:26:54]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=77.144µs elapsed_secs=7.7144e-5
[21-03-2025 14:26:54]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=1 elapsed=70.97µs elapsed_secs=7.097e-5
[21-03-2025 14:26:54]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=62.335448ms elapsed_secs=0.062335448
[21-03-2025 14:26:54]-[planner::api::test_api:76]:⚙ DEBUG -> Юзер TestUser3 прошел авторизацию
[21-03-2025 14:26:54]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=65 ms status=200
[21-03-2025 14:27:05]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "12332", "content-length": "91", "connection": "close"}
[21-03-2025 14:27:05]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:27:05]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=75.449µs elapsed_secs=7.5449e-5
[21-03-2025 14:27:05]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=1 elapsed=96.69µs elapsed_secs=9.669e-5
[21-03-2025 14:27:05]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=69.769266ms elapsed_secs=0.069769266
[21-03-2025 14:27:05]-[planner::api::test_api:76]:⚙ DEBUG -> Юзер TestUser3 прошел авторизацию
[21-03-2025 14:27:05]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=72 ms status=200
[21-03-2025 14:27:16]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "1233", "content-length": "91", "connection": "close"}
[21-03-2025 14:27:16]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:27:16]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=78.397µs elapsed_secs=7.8397e-5
[21-03-2025 14:27:16]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=2 elapsed=92.68µs elapsed_secs=9.268e-5
[21-03-2025 14:27:16]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=64.039261ms elapsed_secs=0.064039261
[21-03-2025 14:27:16]-[planner::api::test_api:76]:⚙ DEBUG -> Юзер TestUser3 прошел авторизацию
[21-03-2025 14:27:16]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=70 ms status=200
[21-03-2025 14:27:21]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "123", "content-length": "91", "connection": "close"}
[21-03-2025 14:27:21]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:27:21]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=72.422µs elapsed_secs=7.2422e-5
[21-03-2025 14:27:21]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=3 elapsed=81.319µs elapsed_secs=8.1319e-5
[21-03-2025 14:27:21]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=27.15217ms elapsed_secs=0.02715217
[21-03-2025 14:27:21]-[planner::api::test_api:76]:⚙ DEBUG -> Юзер TestUser3 прошел авторизацию
[21-03-2025 14:27:21]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=31 ms status=200
[21-03-2025 14:27:28]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/login version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "content-type": "application/json", "x-unique": "12", "content-length": "91", "connection": "close"}
[21-03-2025 14:27:28]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:27:28]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE username = $1\n" rows_affected=0 rows_returned=1 elapsed=80.375µs elapsed_secs=8.0375e-5
[21-03-2025 14:27:28]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE user_id = $1 ORDER BY logged_in\n" rows_affected=0 rows_returned=4 elapsed=172.581µs elapsed_secs=0.000172581
[21-03-2025 14:27:28]-[sqlx::query:143]:⚙ DEBUG -> summary="DELETE FROM sessions WHERE …" db.statement="\n\nDELETE FROM sessions WHERE session_id = $1\n" rows_affected=1 rows_returned=0 elapsed=29.507992ms elapsed_secs=0.029507992
[21-03-2025 14:27:28]-[planner::db::session_repository:348]:💬 Информация -> Удалена сессия `0195b873-b4d9-7481-a5d2-63210017af40`
[21-03-2025 14:27:28]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=34.52355ms elapsed_secs=0.03452355
[21-03-2025 14:27:28]-[planner::db::session_repository:237]:⚠ Предупреждение -> Превышено максимальное количество одновременных сессий `3` сессия `0195b873-b4d9-7481-a5d2-63210017af40` заменена на 0195b875-476d-7313-9c86-5ea7eb218c95
[21-03-2025 14:27:28]-[planner::api::test_api:76]:⚙ DEBUG -> Юзер TestUser3 прошел авторизацию
[21-03-2025 14:27:28]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=71 ms status=200
[21-03-2025 14:30:55]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key?x-unique=12 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "connection": "close", "content-length": "0"}
[21-03-2025 14:30:55]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:30:55]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=0 ms status=500
[21-03-2025 14:30:55]-[tower_http::trace::on_failure:93]:❌ Ошибка -> response failed classification=Status code: 500 Internal Server Error latency=0 ms
[21-03-2025 14:32:58]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key?x-unique=12&cookie=session-key%3D0195b875-476d-7313-9c86-5ea7eb218c95%3B+Path%3D%2F%3B+Max-Age%3D432000 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "connection": "close", "content-length": "0"}
[21-03-2025 14:32:58]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:32:58]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=0 ms status=500
[21-03-2025 14:32:58]-[tower_http::trace::on_failure:93]:❌ Ошибка -> response failed classification=Status code: 500 Internal Server Error latency=0 ms
[21-03-2025 14:37:53]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 14:37:53]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=389.755µs elapsed_secs=0.000389755
[21-03-2025 14:37:53]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=133.837µs elapsed_secs=0.000133837
[21-03-2025 14:37:53]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=1.69083ms elapsed_secs=0.00169083
[21-03-2025 14:37:53]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=151.407µs elapsed_secs=0.000151407
[21-03-2025 14:37:53]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 14:37:56]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key?x-unique=12&cookie=session-key%3D0195b875-476d-7313-9c86-5ea7eb218c95%3B+Path%3D%2F%3B+Max-Age%3D432000 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "connection": "close", "content-length": "0"}
[21-03-2025 14:37:56]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:37:56]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=0 ms status=401
[21-03-2025 14:44:37]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key%20%22session-key=0195b875-476d-7313-9c86-5ea7eb218c95;%20Path=/;%20Max-Age=432000%22?x-unique=12&cookie=session-key%3D0195b875-476d-7313-9c86-5ea7eb218c95%3B+Path%3D%2F%3B+Max-Age%3D432000 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "connection": "close", "content-length": "0"}
[21-03-2025 14:44:37]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:44:37]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=0 ms status=404
[21-03-2025 14:47:31]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key%20-b%20%22session-key=0195b875-476d-7313-9c86-5ea7eb218c95;%20Path=/;%20Max-Age=432000%22?x-unique=12&cookie=session-key%3D0195b875-476d-7313-9c86-5ea7eb218c95%3B+Path%3D%2F%3B+Max-Age%3D432000 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "connection": "close", "content-length": "0"}
[21-03-2025 14:47:31]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:47:31]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=0 ms status=404
[21-03-2025 14:47:48]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key%20-b%20%22session-key=0195b875-476d-7313-9c86-5ea7eb218c95;%20Path=/;%20Max-Age=432000%22?x-unique=12 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "connection": "close", "content-length": "0"}
[21-03-2025 14:47:48]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:47:48]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=0 ms status=404
[21-03-2025 14:48:39]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key?x-unique=12 version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "connection": "close", "content-length": "0"}
[21-03-2025 14:48:39]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:48:39]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=256.025µs elapsed_secs=0.000256025
[21-03-2025 14:48:39]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=519.067µs elapsed_secs=0.000519067
[21-03-2025 14:48:39]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=165.257µs elapsed_secs=0.000165257
[21-03-2025 14:48:39]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=28.325691ms elapsed_secs=0.028325691
[21-03-2025 14:48:39]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=33 ms status=401
[21-03-2025 14:49:00]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "connection": "close", "content-length": "0"}
[21-03-2025 14:49:00]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:49:00]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=121.627µs elapsed_secs=0.000121627
[21-03-2025 14:49:00]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=38.424µs elapsed_secs=3.8424e-5
[21-03-2025 14:49:00]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=39.905822ms elapsed_secs=0.039905822
[21-03-2025 14:49:00]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=42 ms status=401
[21-03-2025 14:49:44]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 14:49:44]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 14:49:44]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=100.509µs elapsed_secs=0.000100509
[21-03-2025 14:49:44]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=29.722µs elapsed_secs=2.9722e-5
[21-03-2025 14:49:44]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=280.791µs elapsed_secs=0.000280791
[21-03-2025 14:49:44]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=27.585299ms elapsed_secs=0.027585299
[21-03-2025 14:49:44]-[jwt_authentification::validator:73]:❌ Ошибка -> Token is expired
[21-03-2025 14:49:44]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=35 ms status=401
[21-03-2025 15:06:43]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:06:43]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=462.747µs elapsed_secs=0.000462747
[21-03-2025 15:06:43]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=82.157µs elapsed_secs=8.2157e-5
[21-03-2025 15:06:43]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=532.388µs elapsed_secs=0.000532388
[21-03-2025 15:06:43]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=90.583µs elapsed_secs=9.0583e-5
[21-03-2025 15:06:43]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:06:48]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:06:48]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:06:48]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=198.78µs elapsed_secs=0.00019878
[21-03-2025 15:06:48]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=323.999µs elapsed_secs=0.000323999
[21-03-2025 15:06:48]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=190.132µs elapsed_secs=0.000190132
[21-03-2025 15:06:48]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=23.886644ms elapsed_secs=0.023886644
[21-03-2025 15:06:48]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=239.628µs elapsed_secs=0.000239628
[21-03-2025 15:06:48]-[planner::api::test_api:180]:💬 Информация -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTkxMDgsImlhdCI6MTc0MjU1ODgwOCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.uKhoUp8n1W5fM3M8vqR5gOehHn5dnuL11-Bm1fAXjMG9OQOjN4t3JSEEBYBxqvxXfNYTr8WbDjawN6jD7XGoDw` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:06:48]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=38 ms status=200
[21-03-2025 15:07:04]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=1195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:07:04]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:07:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=0 elapsed=143.578µs elapsed_secs=0.000143578
[21-03-2025 15:07:04]-[planner::middleware::auth_middleware:140]:❌ Ошибка -> Сессия не найдена
[21-03-2025 15:07:04]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=1 ms status=401
[21-03-2025 15:16:00]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:16:00]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=447.687µs elapsed_secs=0.000447687
[21-03-2025 15:16:00]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=270.26µs elapsed_secs=0.00027026
[21-03-2025 15:16:00]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=398.87µs elapsed_secs=0.00039887
[21-03-2025 15:16:00]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=102.796µs elapsed_secs=0.000102796
[21-03-2025 15:16:00]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:16:04]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:16:04]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:16:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=217.513µs elapsed_secs=0.000217513
[21-03-2025 15:16:04]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=270.596µs elapsed_secs=0.000270596
[21-03-2025 15:16:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=112.073µs elapsed_secs=0.000112073
[21-03-2025 15:16:04]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=51.410258ms elapsed_secs=0.051410258
[21-03-2025 15:16:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=256.888µs elapsed_secs=0.000256888
[21-03-2025 15:16:04]-[planner::api::test_api:180]:💬 Информация -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTk2NjQsImlhdCI6MTc0MjU1OTM2NCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.ixinuHl0Bslwxyk3M1aZ5z_7DJOEmo-uPryn5BsYpA0NB2HkdKjbmR0xm0oIKtmNNztgvt6wVODI9gNe3YjbCw` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:16:04]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=67 ms status=200
[21-03-2025 15:16:12]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=1195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:16:12]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:16:12]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=0 elapsed=81.665µs elapsed_secs=8.1665e-5
[21-03-2025 15:16:12]-[planner::error:53]:❌ Ошибка -> Сессия не найдена
[21-03-2025 15:16:12]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=2 ms status=400
[21-03-2025 15:18:15]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:18:15]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:18:15]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=86.732µs elapsed_secs=8.6732e-5
[21-03-2025 15:18:15]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=56.496µs elapsed_secs=5.6496e-5
[21-03-2025 15:18:15]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=25.914466ms elapsed_secs=0.025914466
[21-03-2025 15:18:15]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=67.507µs elapsed_secs=6.7507e-5
[21-03-2025 15:18:15]-[planner::api::test_api:180]:💬 Информация -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTk3OTUsImlhdCI6MTc0MjU1OTQ5NSwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.AH2TkBijcFHbpVII5MxTrRkvfkDyHCWDHqIFgM5scyuGua1SIlv1kQlqfIwEr-ivl2wy1x71saGPiFn-WoccDA` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:18:15]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=31 ms status=200
[21-03-2025 15:20:33]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:20:33]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=415.588µs elapsed_secs=0.000415588
[21-03-2025 15:20:33]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=83.765µs elapsed_secs=8.3765e-5
[21-03-2025 15:20:33]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=307.914µs elapsed_secs=0.000307914
[21-03-2025 15:20:33]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=120.905µs elapsed_secs=0.000120905
[21-03-2025 15:20:33]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:20:42]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:20:42]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:20:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=230.93µs elapsed_secs=0.00023093
[21-03-2025 15:20:42]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=360.219µs elapsed_secs=0.000360219
[21-03-2025 15:20:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=113.22µs elapsed_secs=0.00011322
[21-03-2025 15:20:42]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=24.027948ms elapsed_secs=0.024027948
[21-03-2025 15:20:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=241.278µs elapsed_secs=0.000241278
[21-03-2025 15:20:42]-[planner::api::test_api:180]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTk5NDIsImlhdCI6MTc0MjU1OTY0Miwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.GiQwFjxJEuhHfMSgmyfWApfFoDPrKMnjIb_blBb7noWTVDkAt8HcNDu42Hfzg51w_F-rpvbWif5iGn20Jsa9Dw` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:20:42]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=34 ms status=200
[21-03-2025 15:21:00]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:21:00]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:21:00]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=102.528µs elapsed_secs=0.000102528
[21-03-2025 15:21:00]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=55.815µs elapsed_secs=5.5815e-5
[21-03-2025 15:21:00]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=27.316517ms elapsed_secs=0.027316517
[21-03-2025 15:21:00]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=79.35µs elapsed_secs=7.935e-5
[21-03-2025 15:21:00]-[planner::api::test_api:180]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTk5NjAsImlhdCI6MTc0MjU1OTY2MCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.vx3RM3spj6_GroPxrugxwwhB5SjFx1JgknXtft_ABKv5Fd6_NP6QHwPzQ2gRWSsHobmFrwwQoUcpSIuAZymTDg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:21:00]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=36 ms status=200
[21-03-2025 15:21:30]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:21:30]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:21:30]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=103.464µs elapsed_secs=0.000103464
[21-03-2025 15:21:30]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=52.099µs elapsed_secs=5.2099e-5
[21-03-2025 15:21:30]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=31.977001ms elapsed_secs=0.031977001
[21-03-2025 15:21:30]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=69.281µs elapsed_secs=6.9281e-5
[21-03-2025 15:21:30]-[planner::api::test_api:180]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTk5OTAsImlhdCI6MTc0MjU1OTY5MCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.qbTiW8BPwS7vQECCNCtd3m7HUsxDl8W1IRoBJSl595glAhnJeIxIj87_6hhbgbO05v2WDNHS_fK8dgVtiT2tDg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:21:30]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=37 ms status=200
[21-03-2025 15:24:40]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:24:40]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=350.339µs elapsed_secs=0.000350339
[21-03-2025 15:24:40]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=84.11µs elapsed_secs=8.411e-5
[21-03-2025 15:24:40]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=673.282µs elapsed_secs=0.000673282
[21-03-2025 15:24:40]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=114.036µs elapsed_secs=0.000114036
[21-03-2025 15:24:40]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:24:53]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:24:53]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:24:53]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=208.517µs elapsed_secs=0.000208517
[21-03-2025 15:24:53]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=242.634µs elapsed_secs=0.000242634
[21-03-2025 15:24:53]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=127.064µs elapsed_secs=0.000127064
[21-03-2025 15:24:53]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=34.823746ms elapsed_secs=0.034823746
[21-03-2025 15:24:53]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12
[21-03-2025 15:24:53]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=286.671µs elapsed_secs=0.000286671
[21-03-2025 15:24:53]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjAxOTMsImlhdCI6MTc0MjU1OTg5Mywicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.EV-515WDcsOXt_seTNNLA2h6GpzPVPzhRJsQQWSV-NRO-t5VJ9toDywYFIF1C2xIW1gMNlYM57bwgyc06YMMDA` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:24:53]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=43 ms status=200
[21-03-2025 15:24:57]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:24:57]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:24:57]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=120.529µs elapsed_secs=0.000120529
[21-03-2025 15:24:57]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=68.913µs elapsed_secs=6.8913e-5
[21-03-2025 15:24:57]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=22.462697ms elapsed_secs=0.022462697
[21-03-2025 15:24:57]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12
[21-03-2025 15:24:57]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=108.508µs elapsed_secs=0.000108508
[21-03-2025 15:24:57]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjAxOTcsImlhdCI6MTc0MjU1OTg5Nywicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.zuzFyO33VTHA5HaBXP0Xr76df5zc8ry79QUCrfAgdHagmKIbN2769LozpaweG85NDJt8Tu8ujEZSHJlz93d8CQ` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:24:57]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=27 ms status=200
[21-03-2025 15:25:03]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:25:03]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:25:03]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=92.094µs elapsed_secs=9.2094e-5
[21-03-2025 15:25:03]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=66.372µs elapsed_secs=6.6372e-5
[21-03-2025 15:25:03]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=23.128332ms elapsed_secs=0.023128332
[21-03-2025 15:25:03]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12
[21-03-2025 15:25:03]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=94.45µs elapsed_secs=9.445e-5
[21-03-2025 15:25:03]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjAyMDMsImlhdCI6MTc0MjU1OTkwMywicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.Grdrzaj0aaz8cA-Hy7s3JntE6Md9YuBMSEL_gnGuCSJmNFBwvJOxA35V5FYjp2s2SL3Bp40j3gy7wPERd-etCg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:25:03]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=41 ms status=200
[21-03-2025 15:25:09]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:25:09]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:25:09]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=86.924µs elapsed_secs=8.6924e-5
[21-03-2025 15:25:09]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=52.095µs elapsed_secs=5.2095e-5
[21-03-2025 15:25:09]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=29.007811ms elapsed_secs=0.029007811
[21-03-2025 15:25:09]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12
[21-03-2025 15:25:09]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=71.091µs elapsed_secs=7.1091e-5
[21-03-2025 15:25:09]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjAyMDksImlhdCI6MTc0MjU1OTkwOSwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.5n0_vUt2UQcn60wKA_a29P8t21a74YxUnM4Uu1CenQao_-r90oNMTGq1cCGROylf_mAxO4CnXJ5zHuiMVt94CA` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:25:09]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=41 ms status=200
[21-03-2025 15:26:32]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:26:32]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=323.939µs elapsed_secs=0.000323939
[21-03-2025 15:26:32]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=103.363µs elapsed_secs=0.000103363
[21-03-2025 15:26:32]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=210.07µs elapsed_secs=0.00021007
[21-03-2025 15:26:32]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=83.168µs elapsed_secs=8.3168e-5
[21-03-2025 15:26:32]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:26:35]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:26:35]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:26:35]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=194.204µs elapsed_secs=0.000194204
[21-03-2025 15:26:35]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=313.885µs elapsed_secs=0.000313885
[21-03-2025 15:26:35]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=143.424µs elapsed_secs=0.000143424
[21-03-2025 15:26:35]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=37.534117ms elapsed_secs=0.037534117
[21-03-2025 15:26:35]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12
[21-03-2025 15:26:35]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=225.273µs elapsed_secs=0.000225273
[21-03-2025 15:26:35]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjAyOTUsImlhdCI6MTc0MjU1OTk5NSwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.UbJuzzvaZlM_EgA0bb7bcZG3afTCncJHh2y6YQwjKCrfBB5PGX7LWxz1xVOh9C2GSNfY4f5Hf6ALvSaLJEUAAg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:26:35]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=49 ms status=200
[21-03-2025 15:30:59]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:30:59]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=3.802067ms elapsed_secs=0.003802067
[21-03-2025 15:30:59]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=172.876µs elapsed_secs=0.000172876
[21-03-2025 15:30:59]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=830.11µs elapsed_secs=0.00083011
[21-03-2025 15:30:59]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=137.449µs elapsed_secs=0.000137449
[21-03-2025 15:30:59]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:31:02]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "123123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:31:02]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:31:02]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=189.086µs elapsed_secs=0.000189086
[21-03-2025 15:31:02]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=485.902µs elapsed_secs=0.000485902
[21-03-2025 15:31:02]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=204.7µs elapsed_secs=0.0002047
[21-03-2025 15:31:02]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=80.180602ms elapsed_secs=0.080180602
[21-03-2025 15:31:02]-[planner::api::test_api:173]:⚙ DEBUG -> новый fp:12 старый fp: 12 из fp extractor 123123
[21-03-2025 15:31:02]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=244.292µs elapsed_secs=0.000244292
[21-03-2025 15:31:02]-[planner::api::test_api:182]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjA1NjIsImlhdCI6MTc0MjU2MDI2Miwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.nfWwLHy8DnivY6BZi05XlXCrYqkk-F3yda8maRsF-v0Vfet-kdRcE1OiD1TGIlXA_xVgtZeAXyW6d2xKTtGtCQ` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:31:02]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=94 ms status=200
[21-03-2025 15:33:58]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b874-ecd1-78e1-9559-a07df5d686f0; Path=/; Max-Age=432000", "x-unique": "123123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:33:58]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:33:58]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=106.776µs elapsed_secs=0.000106776
[21-03-2025 15:33:58]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=69.662µs elapsed_secs=6.9662e-5
[21-03-2025 15:33:58]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=34.155784ms elapsed_secs=0.034155784
[21-03-2025 15:33:58]-[planner::api::test_api:173]:⚙ DEBUG -> новый fp:12332 старый fp: 12332 из fp extractor 123123
[21-03-2025 15:33:58]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=66.635µs elapsed_secs=6.6635e-5
[21-03-2025 15:33:58]-[planner::api::test_api:182]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjA3MzgsImlhdCI6MTc0MjU2MDQzOCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.ocdb7UtysNsAhJHIIXW_Qib6b0l4BCcRHesuAcnDuXMVTVAtoaILesZ-MiM_hoxIRXtmGkddKB3Yv5anqi9IBg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:33:58]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=39 ms status=200
[21-03-2025 15:34:27]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b874-ecd1-78e1-9559-a07df5d686f0; Path=/; Max-Age=432000", "x-unique": "123123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:34:27]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:34:27]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=107.489µs elapsed_secs=0.000107489
[21-03-2025 15:34:27]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=34.031µs elapsed_secs=3.4031e-5
[21-03-2025 15:34:27]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=284.788µs elapsed_secs=0.000284788
[21-03-2025 15:34:27]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=27.391954ms elapsed_secs=0.027391954
[21-03-2025 15:34:27]-[planner::api::test_api:173]:⚙ DEBUG -> новый fp:12332 старый fp: 12332 из fp extractor 123123
[21-03-2025 15:34:27]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=70.307µs elapsed_secs=7.0307e-5
[21-03-2025 15:34:27]-[planner::api::test_api:182]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjA3NjcsImlhdCI6MTc0MjU2MDQ2Nywicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.m0Z10QfVMJN0iU8zBRI9rVmWR7BHrMf6vIVIlyP2MBD8X015_gREbCm-3t9pxF1GCq3vl39ExHAEI5hXoN_nAA` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:34:27]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=42 ms status=200
[21-03-2025 15:40:11]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:40:11]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=607.081µs elapsed_secs=0.000607081
[21-03-2025 15:40:11]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=89.713µs elapsed_secs=8.9713e-5
[21-03-2025 15:40:11]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=308.431µs elapsed_secs=0.000308431
[21-03-2025 15:40:11]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=276.356µs elapsed_secs=0.000276356
[21-03-2025 15:40:11]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:40:15]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b874-ecd1-78e1-9559-a07df5d686f0; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:40:15]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:40:15]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=226.165µs elapsed_secs=0.000226165
[21-03-2025 15:40:15]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=310.177µs elapsed_secs=0.000310177
[21-03-2025 15:40:15]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=187.383µs elapsed_secs=0.000187383
[21-03-2025 15:40:15]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=63.405084ms elapsed_secs=0.063405084
[21-03-2025 15:40:15]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12332 из fp extractor 12
[21-03-2025 15:40:15]-[planner::api::test_api:175]:❌ Ошибка -> Ошибка, новый fingerprint 12 не совпадает с отпечатком сеcсии 12
[21-03-2025 15:40:15]-[sqlx::query:143]:⚙ DEBUG -> summary="DELETE FROM sessions WHERE …" db.statement="\n\nDELETE FROM sessions WHERE session_id = $1\n" rows_affected=1 rows_returned=0 elapsed=49.450791ms elapsed_secs=0.049450791
[21-03-2025 15:40:15]-[planner::db::session_repository:348]:💬 Информация -> Удалена сессия `0195b874-ecd1-78e1-9559-a07df5d686f0`
[21-03-2025 15:40:15]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=118 ms status=401
[21-03-2025 15:41:19]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "12", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:41:19]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:41:19]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=131.06µs elapsed_secs=0.00013106
[21-03-2025 15:41:19]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=65.053µs elapsed_secs=6.5053e-5
[21-03-2025 15:41:19]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=618.183µs elapsed_secs=0.000618183
[21-03-2025 15:41:19]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=38.764162ms elapsed_secs=0.038764162
[21-03-2025 15:41:19]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:12 старый fp: 12 из fp extractor 12
[21-03-2025 15:41:19]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=247.758µs elapsed_secs=0.000247758
[21-03-2025 15:41:19]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjExNzksImlhdCI6MTc0MjU2MDg3OSwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.bVJUNy2u7y5wvQ3Z2JwYle7I_ZPL8Hrxa0aaBk6SgoOHHkxBVD9v3viqpFYptUe6oTKmiaC8Crtg1EwSMQtsAg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:41:19]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=50 ms status=200
[21-03-2025 15:41:29]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-476d-7313-9c86-5ea7eb218c95; Path=/; Max-Age=432000", "x-unique": "122", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:41:29]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:41:29]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=107.583µs elapsed_secs=0.000107583
[21-03-2025 15:41:29]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=86.959µs elapsed_secs=8.6959e-5
[21-03-2025 15:41:29]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=30.880155ms elapsed_secs=0.030880155
[21-03-2025 15:41:29]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:122 старый fp: 12 из fp extractor 122
[21-03-2025 15:41:29]-[planner::api::test_api:175]:❌ Ошибка -> Ошибка, новый fingerprint 122 не совпадает с отпечатком сеcсии 122
[21-03-2025 15:41:29]-[sqlx::query:143]:⚙ DEBUG -> summary="DELETE FROM sessions WHERE …" db.statement="\n\nDELETE FROM sessions WHERE session_id = $1\n" rows_affected=1 rows_returned=0 elapsed=31.117988ms elapsed_secs=0.031117988
[21-03-2025 15:41:29]-[planner::db::session_repository:348]:💬 Информация -> Удалена сессия `0195b875-476d-7313-9c86-5ea7eb218c95`
[21-03-2025 15:41:29]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=74 ms status=401
[21-03-2025 15:42:22]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:42:22]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=621.611µs elapsed_secs=0.000621611
[21-03-2025 15:42:22]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.057374ms elapsed_secs=0.001057374
[21-03-2025 15:42:22]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=442.012µs elapsed_secs=0.000442012
[21-03-2025 15:42:22]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=248.304µs elapsed_secs=0.000248304
[21-03-2025 15:42:22]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:42:46]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-2d04-7a71-9fa9-cbf442a0ffc7; Path=/; Max-Age=432000", "x-unique": "123", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:42:46]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:42:46]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=208.738µs elapsed_secs=0.000208738
[21-03-2025 15:42:46]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=258.29µs elapsed_secs=0.00025829
[21-03-2025 15:42:46]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=163.145µs elapsed_secs=0.000163145
[21-03-2025 15:42:46]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=30.358121ms elapsed_secs=0.030358121
[21-03-2025 15:42:46]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:123 старый fp: 123 из fp extractor 123
[21-03-2025 15:42:46]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=239.789µs elapsed_secs=0.000239789
[21-03-2025 15:42:46]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjEyNjYsImlhdCI6MTc0MjU2MDk2Niwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.iTh-HK3_gqZEXy-9d7Ouhhk7bHhx3V2E4eGH_dcuyaRrdn3b_qDpqnTF9qafO_doOHPGPaj0ZaolQVGlP9ULCQ` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:42:46]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=40 ms status=200
[21-03-2025 15:42:52]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=POST uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-2d04-7a71-9fa9-cbf442a0ffc7; Path=/; Max-Age=432000", "x-unique": "1234", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close", "content-length": "0"}
[21-03-2025 15:42:52]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:42:52]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=87.552µs elapsed_secs=8.7552e-5
[21-03-2025 15:42:52]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=75.102µs elapsed_secs=7.5102e-5
[21-03-2025 15:42:52]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=27.825849ms elapsed_secs=0.027825849
[21-03-2025 15:42:52]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:1234 старый fp: 123 из fp extractor 1234
[21-03-2025 15:42:52]-[planner::api::test_api:175]:❌ Ошибка -> Ошибка, новый fingerprint 1234 не совпадает с отпечатком сеcсии 123
[21-03-2025 15:42:52]-[sqlx::query:143]:⚙ DEBUG -> summary="DELETE FROM sessions WHERE …" db.statement="\n\nDELETE FROM sessions WHERE session_id = $1\n" rows_affected=1 rows_returned=0 elapsed=27.316079ms elapsed_secs=0.027316079
[21-03-2025 15:42:52]-[planner::db::session_repository:348]:💬 Информация -> Удалена сессия `0195b875-2d04-7a71-9fa9-cbf442a0ffc7`
[21-03-2025 15:42:52]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=69 ms status=401
[21-03-2025 15:48:01]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 15:48:01]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=377.697µs elapsed_secs=0.000377697
[21-03-2025 15:48:01]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=98.888µs elapsed_secs=9.8888e-5
[21-03-2025 15:48:01]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=227.788µs elapsed_secs=0.000227788
[21-03-2025 15:48:01]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=155.15µs elapsed_secs=0.00015515
[21-03-2025 15:48:01]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 15:48:04]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close"}
[21-03-2025 15:48:04]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 15:48:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=199.667µs elapsed_secs=0.000199667
[21-03-2025 15:48:04]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=328.347µs elapsed_secs=0.000328347
[21-03-2025 15:48:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=104.421µs elapsed_secs=0.000104421
[21-03-2025 15:48:04]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=59.809484ms elapsed_secs=0.059809484
[21-03-2025 15:48:04]-[planner::api::test_api:172]:⚙ DEBUG -> новый fp:1233 старый fp: 1233 из fp extractor 1233
[21-03-2025 15:48:04]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=581.098µs elapsed_secs=0.000581098
[21-03-2025 15:48:04]-[planner::api::test_api:181]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjE1ODQsImlhdCI6MTc0MjU2MTI4NCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.ibYwDYQrTptTnTwqH_c7s9b46pO2WUEBdTjI8pXnJ3Vdmntvh5IEfonUZ7E4l8OFg42Lq19JiU5lExrqlQ_SDA` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 15:48:04]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=87 ms status=200
[21-03-2025 16:19:33]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 16:19:33]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=434.967µs elapsed_secs=0.000434967
[21-03-2025 16:19:33]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=463.852µs elapsed_secs=0.000463852
[21-03-2025 16:19:33]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=916.622µs elapsed_secs=0.000916622
[21-03-2025 16:19:33]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=145.437µs elapsed_secs=0.000145437
[21-03-2025 16:19:33]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 16:21:05]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/admin version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close"}
[21-03-2025 16:21:05]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:21:05]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=262.6µs elapsed_secs=0.0002626
[21-03-2025 16:21:05]-[jwt_authentification::validator:73]:❌ Ошибка -> Token is expired
[21-03-2025 16:21:05]-[planner::middleware::auth_middleware:130]:❌ Ошибка -> Ошибка валидации токена доступа `Token is expired`
[21-03-2025 16:21:05]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=11 ms status=401
[21-03-2025 16:21:32]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "connection": "close"}
[21-03-2025 16:21:32]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:21:32]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=95.596µs elapsed_secs=9.5596e-5
[21-03-2025 16:21:32]-[planner::middleware::auth_middleware:130]:❌ Ошибка -> Ошибка авторизации, отсуствует заголовок Authorization
[21-03-2025 16:21:32]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=1 ms status=401
[21-03-2025 16:21:44]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "connection": "close"}
[21-03-2025 16:21:44]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:21:44]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=66.325µs elapsed_secs=6.6325e-5
[21-03-2025 16:21:44]-[planner::middleware::auth_middleware:130]:❌ Ошибка -> Ошибка авторизации, отсуствует заголовок Authorization
[21-03-2025 16:21:44]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=3 ms status=401
[21-03-2025 16:24:42]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close"}
[21-03-2025 16:24:42]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:24:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=66.046µs elapsed_secs=6.6046e-5
[21-03-2025 16:24:42]-[jwt_authentification::validator:73]:❌ Ошибка -> Token is expired
[21-03-2025 16:24:42]-[planner::middleware::auth_middleware:130]:❌ Ошибка -> Ошибка валидации токена доступа `Token is expired`
[21-03-2025 16:24:42]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=3 ms status=401
[21-03-2025 16:24:56]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NTY3NDgsImlhdCI6MTc0MjU1NjQ0OCwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.0X_QgzDZd9ujRlt-tCqNTmMLePdTh86C58oRApxDOXA-NN2jFIUiokgQulK6XoIsXEkObB3FUYYq-BzOB2BjAQ", "connection": "close"}
[21-03-2025 16:24:56]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:24:56]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=221.763µs elapsed_secs=0.000221763
[21-03-2025 16:24:56]-[jwt_authentification::validator:73]:❌ Ошибка -> Token is expired
[21-03-2025 16:24:56]-[planner::middleware::auth_middleware:130]:❌ Ошибка -> Ошибка валидации токена доступа `Token is expired`
[21-03-2025 16:24:56]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=5 ms status=401
[21-03-2025 16:26:24]-[planner::configuration:49]:❌ Ошибка -> Ошибка десериализации настроек, No such file or directory (os error 2), будут установлены настройки по умолчанию
[21-03-2025 16:26:25]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=332.31µs elapsed_secs=0.00033231
[21-03-2025 16:26:25]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS users (\n    id TEXT NOT NULL,\n    username TEXT NOT NULL,\n    password TEXT NOT NULL,\n    name TEXT NOT NULL,\n    surname_1 TEXT NOT NULL,\n    surname_2 TEXT NOT NULL,\n    is_active INTEGER NOT NULL DEFAULT 0,\n    avatar TEXT,\n    role TEXT NOT NULL,\n    audiences BLOB,\n    information BLOB,\n    PRIMARY KEY(id)\n    );\n    CREATE INDEX IF NOT EXISTS 'users_idx' ON users (id, username, is_active, name, role);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=160.386µs elapsed_secs=0.000160386
[21-03-2025 16:26:25]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=367.471µs elapsed_secs=0.000367471
[21-03-2025 16:26:25]-[sqlx::query:143]:⚙ DEBUG -> summary="BEGIN; CREATE TABLE IF …" db.statement="\n\nBEGIN;\n    CREATE TABLE IF NOT EXISTS sessions (\n    session_id TEXT NOT NULL,\n    user_id TEXT NOT NULL,\n    logged_in TEXT NOT NULL,\n    key_expiration_time TEXT NOT NULL,\n    ip_addr TEXT NOT NULL,\n    fingerprint TEXT,\n    PRIMARY KEY(user_id, session_id)\n    );\n    CREATE INDEX IF NOT EXISTS 'session_idx' ON sessions (user_id, session_id);\n    COMMIT;\n" rows_affected=0 rows_returned=0 elapsed=271.122µs elapsed_secs=0.000271122
[21-03-2025 16:26:25]-[planner::api::test_api:16]:⚙ DEBUG -> Апи сервера доступно на 0.0.0.0:8888
[21-03-2025 16:26:42]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/update_key version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "connection": "close"}
[21-03-2025 16:26:42]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:26:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=258.67µs elapsed_secs=0.00025867
[21-03-2025 16:26:42]-[planner::api::test_api:110]:⚙ DEBUG -> новый fp:1233 старый fp: 1233 из fp extractor
[21-03-2025 16:26:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=400.144µs elapsed_secs=0.000400144
[21-03-2025 16:26:42]-[sqlx::query:143]:⚙ DEBUG -> summary="PRAGMA journal_mode = WAL; …" db.statement="\n\nPRAGMA journal_mode = WAL; PRAGMA foreign_keys = ON; \n" rows_affected=0 rows_returned=1 elapsed=574.66µs elapsed_secs=0.00057466
[21-03-2025 16:26:42]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=124.589µs elapsed_secs=0.000124589
[21-03-2025 16:26:42]-[sqlx::query:143]:⚙ DEBUG -> summary="INSERT OR REPLACE INTO …" db.statement="\n\nINSERT OR REPLACE INTO sessions (session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint) VALUES ($1, $2, $3, $4, $5, $6)\n" rows_affected=1 rows_returned=0 elapsed=105.18753ms elapsed_secs=0.10518753
[21-03-2025 16:26:42]-[planner::api::test_api:124]:⚙ DEBUG -> Обновлен access key `eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjM5MDIsImlhdCI6MTc0MjU2MzYwMiwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.Jm7LTnpr2Ixr89WLpBUhDc0bio8jFrwcYe9eYxVzoGe5cTaZwDXV6sfSSMcw1ywtGMJA3ubiYuATVzY1ZLLdCg` для сессии 0195ae7a-3cda-7b11-aa6b-46992a3e209f
[21-03-2025 16:26:42]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=123 ms status=200
[21-03-2025 16:27:02]-[tower_http::trace::make_span:109]:⚙ DEBUG -> request; method=GET uri=/auth/admin version=HTTP/1.1 headers={"host": "localhost:8888", "user-agent": "HTTPie", "cookie": "session-key=0195b875-1811-7ce3-b2ad-428754a579bd; Path=/; Max-Age=432000", "x-unique": "1233", "authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFZERTQSJ9.eyJzdWIiOiIwMTk1YWU3YS0zY2RhLTdiMTEtYWE2Yi00Njk5MmEzZTIwOWYiLCJleHAiOjE3NDI1NjM5MDIsImlhdCI6MTc0MjU2MzYwMiwicm9sZSI6IkFkbWluaXN0cmF0b3IiLCJhdWQiOm51bGx9.Jm7LTnpr2Ixr89WLpBUhDc0bio8jFrwcYe9eYxVzoGe5cTaZwDXV6sfSSMcw1ywtGMJA3ubiYuATVzY1ZLLdCg", "connection": "close"}
[21-03-2025 16:27:02]-[tower_http::trace::on_request:80]:⚙ DEBUG -> started processing request
[21-03-2025 16:27:02]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions …" db.statement="\n\nSELECT session_id,user_id,logged_in,key_expiration_time,ip_addr,fingerprint FROM sessions WHERE session_id = $1\n" rows_affected=0 rows_returned=1 elapsed=108.951µs elapsed_secs=0.000108951
[21-03-2025 16:27:02]-[sqlx::query:143]:⚙ DEBUG -> summary="SELECT id, username, password, …" db.statement="\n\nSELECT id, username, password, name, surname_1, surname_2, is_active, avatar, role, json(audiences) as audiences, json(information) as information FROM users WHERE id = $1\n" rows_affected=0 rows_returned=1 elapsed=89.47µs elapsed_secs=8.947e-5
[21-03-2025 16:27:02]-[tower_http::trace::on_response:114]:⚙ DEBUG -> finished processing request latency=6 ms status=200
